面试官好，我叫潘时煌，来自杭州电子科技大学，是一名软件工程专业的准大四在校学生。

首先我介绍一下我学习前端的经历。在大一、大二期间我主要凭借兴趣自学了前端与后端相关方面的知识，在经过一番比较之后我发现我其实更适合做 web 前端，因为前端有一个特性，就是“所见即所得”，当我修改了我的代码之后，我实现的功能就可以马上在 web 页面中展现出来，这其实就是一种正反馈，让我有了自我驱动力以及对技术的热爱，可以刺激我不断地去学习、去探索新的技术。

其次，我也积极地参加了很多学科竞赛，代表的有服务外包与数学建模竞赛，也取得了过一些国家级奖项，这些都培养了我的动手、实践与团队沟通能力。

然后是我在碰到问题后的解决方法。在碰到问题后我会去掘金、简书、思否、stack overflow、github 等平台搜索资料来解决我所碰到的问题。最近则在使用 vitepress 来搭建一个自己的技术博客。

目前的技术栈主要是 Vue 和 React，现在的话则在学习 typeScript。在团队开发的时候也会使用 git 工具进行代码协作。后端那边能够使用 SpringBoot 开启一个比较简单的 web 应用并部署到 Linux 服务器上面，并且能够结合 redis、JWT 提供身份认证服务。

一共有两段项目经历，其中最锻炼我的项目则是超星集团学习通的考试系统，主要涉及到权限认证、人脸识别以及多端登录的解决。现在则是在实习，谢谢面试官。

## 项目

### 项目结构

- api：封装`axios`网络请求接口
- components：封装公共组件，例如`面包屑`、`侧边栏`、`搜索框`、`下拉菜单`、`SVG图标`、`分页栏`、`Hamburger`
- mock：用于调试阶段制造伪数据
- router：
- store：
- views：业务组件
- utils：

业务难点：

- 人脸检测
  - 在用户进入考试之前会申请摄像头与麦克风权限要求进行人脸验证。
  - 人脸识别的具体实现步骤：使用`async`与`await`异步模式。先利用`await`等待人脸识别结果返回，如果识别成功成功则进入考试页面，如果识别失败则递归调用函数并设置一定的次数限制，如果超过一定次数依旧没有标记为异常并把数据记录到数据库中。
- 教师监控
  - 学生在考试的时候对学生的人脸进行定时拍照作为记录存储到服务器中。教师端通过`ajax`轮询的方式获得服务器返回的图片地址并通过设置图片的`src`属性将图片显示在页面中。
  - 警告，教师端在监考时可以随时点击学生头像进行`警告`操作，学生那边也通过`ajax`轮询操作获取老师的警告信息。
  - 监考页面中，每一位学生的详情页中都记录该学生的可疑行为。`切屏`，`声音过大`，`做题速度过快`。
- 作弊检测
  - 切屏：通过监听切屏事件来记录切屏次数。
  - 声音、图像采集，通过 getUserMedia 获取用户的设备权限。
- 多端登陆问题
  - 使用 JWT token，要求在每次请求头中都需要在请求头中携带`token`信息，如果`token`无效或者`已过期`则强制将页面重定向到首页。
  - 在用户请求`login`接口之后，服务端的`token`会返回一个新的`token`并且旧的`token`就失效了，从而解决多端登陆。
- 状态管理基于`Vuex`框架

  - 路由状态：通过`mutation`处理异步请求，并把处理得到的路有放入全局状态进行管理。
  - 界面的状态（移动端/PC 端）：监听浏览器的`resize`时间并进行防抖操作从而判断用户使用的媒介是什么。在后续进行媒体查询和路由 UI 变化时都需要用到页面的状态数据。
  - token

- axios
  - https://vue3js.cn/interview/vue/axiosCode.html

### JWT、token 鉴权、权限控制

- 路由权限
  - 白名单：`/login`、`/404`、`/401`、`/403`
  - router.beforeEach
    - 用户在登录成功之后把`token`以及相关`个人信息`存入`localStorage`
    - 在用户回到首页之后删除`localStorage`中存储的`token`
    - 页面刷新时，回先看看`localStorage`中是否有`token`，如果有`token`并且`token`没过期，则自动向后端请求路由表。如果`token`无效则重定向到首页。
    - 在登录时，会通过从服务端获取用户的角色信息与路由权限。
- 防止多端登录
  - 除了登录请求之外，其他所有请求都需要在请求头上加上一个`Authorization`的`header`。当调用`login`这个接口之后，服务端在`redis`中所存储的值就发生了改变，因此原来那端就被迫登出。
- 按钮权限：`v-directives`
- 为什么使用`JWT`?
  - 因为后端采用了`nacos`分布式架构，如果使用`session`的话，需要在不同节点共享`session`信息，对服务器的开销过大。
  <!-- * `session`本质上也是基于`cookie`的，`CSRF`跨站攻击依然不能很好地防范。 -->
  - https://tech.meituan.com/2018/10/11/fe-security-csrf.html
  - https://juejin.cn/post/7017356544056492068

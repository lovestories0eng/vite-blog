## 网络配置

点击`网络适配器`选项并选择`NAT`模式共享主机的IP地址。

![image-20221029205316172](.\images\image-20221029205316172.png)

点击`编辑`-->`虚拟网络编辑器`。

![image-20221029205719173](.\images\image-20221029205719173.png)

点击`更改设置`获得管理员特权。

![image-20221029205805547](.\images\image-20221029205805547.png)

取消DHCP服务，防止IP地址被动态分配。

![image-20221029210251559](.\images\image-20221029210251559.png)

点击NAT设置，设置网关IP，即`192.168.1.1`，为什么这么设置还在摸索中~~~。

## windows网络配置

```shell
(base) PS C:\Users\HP> ipconfig

Windows IP 配置


以太网适配器 以太网:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :

PPP 适配器 Netkeeper:

   连接特定的 DNS 后缀 . . . . . . . :
   IPv4 地址 . . . . . . . . . . . . : 60.176.47.101
   子网掩码  . . . . . . . . . . . . : 255.255.255.255
   默认网关. . . . . . . . . . . . . : 0.0.0.0

无线局域网适配器 本地连接* 1:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :

无线局域网适配器 本地连接* 2:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :

以太网适配器 以太网 5:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :

以太网适配器 以太网 3:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :

以太网适配器 VMware Network Adapter VMnet8:

   连接特定的 DNS 后缀 . . . . . . . :
   本地链接 IPv6 地址. . . . . . . . : fe80::d997:828f:d593:9f2b%5
   IPv4 地址 . . . . . . . . . . . . : 192.168.1.199
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   默认网关. . . . . . . . . . . . . :

无线局域网适配器 WLAN:

   连接特定的 DNS 后缀 . . . . . . . :
   本地链接 IPv6 地址. . . . . . . . : fe80::7cd0:a2d8:2aad:44bc%20
   IPv4 地址 . . . . . . . . . . . . : 192.168.1.4
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   默认网关. . . . . . . . . . . . . : 192.168.1.1

以太网适配器 以太网 4:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :

以太网适配器 蓝牙网络连接:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :
```

找到IPV4地址`192.168.1.4`。

本人用的是win11系统，win10的系统设置应该大同小异。

![image-20221029210902798](.\images\image-20221029210902798.png)

点击`属性`。

![image-20221029210923599](.\images\image-20221029210923599.png)

点击`TCP/IPv4`。

![image-20221029211819503](.\images\image-20221029211819503.png)

`192.168.1.199`中的最后一个数字设置为`199`，因为要设置得尽可能大。（虽然还没搞懂为啥）





## 虚拟机配置修改

![image-20221029210053977](.\images\image-20221029210053977.png)

* Address：前三个数组与windows主机一致，最后一个数字要比windows主机小，也就是小于`4`。
* Netmask：`255.255.255.0`这个目前没搞明白，只是看别人都是这么做的。
* Gateway：填写前面在`NAT`设置中设置的网关IP地址。
* DNS：默认8.8.8.8，没搞懂为什么。

## 文件修改

修改虚拟机中的sshd_config文件。

```bash
vim /etc/ssh/sshd_config

Port 22
PermitRootLogin yes
PasswordAuthentication yes
```

```bash
sudo service sshd restart
```

修改虚拟机中的hosts文件

```bash
vim /etc/hosts

127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6
199.232.68.133 raw.githubusercontent.com
192.168.1.2 docker
```

最后一行是新加入的，docker代表用户名名称。

修改windows中的hosts文件。

```shell
cd C:\Windows\System32\drivers\etc
```

```shell
192.168.1.2 docker
```

同理，最后一行为手动加入的。

## XShell登录

新建会话。

![image-20221029212444107](.\images\image-20221029212444107.png)

输入相应`用户名`和`密码`。

![image-20221029212457626](.\images\image-20221029212457626.png)

登录成功。

![image-20221029212535481](.\images\image-20221029212535481.png)